{% extends "commerce/_layouts/settingscp" %}

{% set title = "Commerce Settings"|t('commerce') %}

{% set editionLite = constant('Edition_Lite', craft.commerce) %}
{% set editionStandard = constant('Edition_Standard', craft.commerce) %}

{% set navItems = {
    'general': { title: "General Settings"|t('commerce'), minEdition: editionLite },
    'ordersettings': { title: "Order Fields"|t('commerce'), minEdition: editionLite },
    'orderstatuses': { title: "Order Statuses"|t('commerce'), minEdition: editionLite },
    'emails': { title: "Emails"|t('commerce'), minEdition: editionLite },
    'gateways': { title: "Gateways"|t('commerce'), minEdition: editionLite },
    'paymentcurrencies': { title: "Payment Currencies"|t('commerce'), minEdition: editionLite },
    'location': { title: "Store Location"|t('commerce'), minEdition: editionLite },
    'products-heading': { heading: "Products"|t('commerce'), minEdition: editionLite },
    'producttypes': { title: "Product Types"|t('commerce'), minEdition: editionLite },
    'subscriptions-heading': { heading: "Subscriptions"|t('commerce'), minEdition: editionLite },
    'subscriptions/plans': { title: "Subscription Plans"|t('commerce'), minEdition: editionLite },
    'subscriptions/fields': { title: "Subscription Fields"|t('commerce'), minEdition: editionLite },
    'regions-heading': { heading: "Regions"|t('commerce'), minEdition: editionLite },
    'countries': { title: "Countries"|t('commerce'), minEdition: editionLite },
    'states': { title: "States"|t('commerce'), minEdition: editionLite },
    'taxes-heading': { heading: "Taxes"|t('commerce'), minEdition: editionStandard },
    'taxcategories': { title: "Tax Categories"|t('commerce'), minEdition: editionStandard },
    'taxzones': { title: "Tax Zones"|t('commerce'), minEdition: editionStandard },
    'taxrates': { title: "Tax Rates"|t('commerce'), minEdition: editionStandard },
    'shipping-heading': { heading: "Shipping"|t('commerce'), minEdition: editionStandard },
    'shippingcategories': { title: "Shipping Categories"|t('commerce'), minEdition: editionStandard },
    'shippingzones': { title: "Shipping Zones"|t('commerce'), minEdition: editionStandard },
    'shippingmethods': { title: "Shipping Methods"|t('commerce'), minEdition: editionStandard },
} %}

{% if selectedItem is not defined %}
    {% set selectedItem = craft.app.request.getSegment(3) %}
{% endif %}

{% set docTitle = navItems[selectedItem].title~' - '~title %}

{% block sidebar %}
    <nav>
        <ul>
            {% for id, item in navItems if craft.commerce.editionGreaterThanOrEqual(item.minEdition) %}
                {% if item.heading is defined %}
                    <li class="heading"><span>{{ item.heading }}</span></li>
                {% else %}
                    <li>
                        <a href="{{ url('commerce/settings/'~id) }}"{% if id == selectedItem %} class="sel"{% endif %}>{{ item.title }}</a>
                    </li>
                {% endif %}
            {% endfor %}
        </ul>
    </nav>
{% endblock %}

