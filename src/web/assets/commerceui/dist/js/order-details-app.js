(function(t){function e(e){for(var r,o,i=e[0],d=e[1],c=e[2],u=0,f=[];u<i.length;u++)o=i[u],s[o]&&f.push(s[o][0]),s[o]=0;for(r in d)Object.prototype.hasOwnProperty.call(d,r)&&(t[r]=d[r]);l&&l(e);while(f.length)f.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],r=!0,i=1;i<n.length;i++){var d=n[i];0!==s[d]&&(r=!1)}r&&(a.splice(e--,1),t=o(o.s=n[0]))}return t}var r={},s={"order-details-app":0},a=[];function o(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=r,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="http://localhost:8080/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],d=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var l=d;a.push([1,"chunk-vendors"]),n()})({1:function(t,e,n){t.exports=n("29fe")},"1c7c":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"order-details pane"},[t.draft?[n("table",{staticClass:"data fullwidth collapsible",attrs:{id:""}},[t._m(0),n("tbody",[t._l(t.draft.order.lineItems,function(e,r){return[n("tr",{staticClass:"infoRow"},[n("td",[n("span",{staticClass:"description"},[t._v(t._s(e.description))]),n("br"),n("span",{staticClass:"code"},[t._v(t._s(e.sku))]),e.options.length?[n("a",{staticClass:"fieldtoggle first last",attrs:{"data-target":"info-"+e.id}},[t._v(t._s("Options"))]),n("span",{staticClass:"hidden",attrs:{id:"info-"+e.id}},[t._l(e.options,function(e,r){return[t._v("\n                                    "+t._s(e)+":\n\n                                    "),Array.isArray(r)?[n("code",[t._v(t._s(r))])]:[t._v(t._s(r))],n("br")]})],2)]:t._e()],2),n("td",{attrs:{"data-title":"Note"}},[e.note?[n("span",{staticClass:"info"},[t._v(t._s(e.note))])]:t._e(),n("textarea",{staticClass:"text",domProps:{value:e.note}})],2),n("td",{attrs:{"data-title":"Price"}},[t._v("\n                            "+t._s(e.salePrice)+"\n                        ")]),n("td",{attrs:{"data-title":"Qty"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.qty,expression:"lineItem.qty"}],staticClass:"text",attrs:{type:"text",size:"3"},domProps:{value:e.qty},on:{input:function(n){n.target.composing||t.$set(e,"qty",n.target.value)}}})]),n("td"),n("td",{attrs:{"data-title":"Sub-total"}},[n("span",{staticClass:"right"},[t._v(t._s(e.subtotal))])]),t._m(1,!0),n("td",[n("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.removeLineItem(r)}}},[t._v("Remove")])])]),t._l(e.adjustments,function(e){return[n("tr",[n("td"),n("td",[n("strong",[t._v(t._s(e.type)+" "+t._s("Adjustment"))]),n("br"),t._v(t._s(e.name)+"\n                                "),n("span",{staticClass:"info"},[n("strong",[t._v(t._s(e.type)+" "+t._s("Adjustment"))]),n("br"),t._v(" "+t._s(e.description))])]),n("td"),n("td"),n("td"),n("td",[n("span",{staticClass:"right"},[t._v(t._s(e.amount))])]),n("td"),n("td")])]})]}),n("tr",[n("td"),n("td"),n("td"),n("td"),n("td",[n("strong",[t._v(t._s("Items Total (with adjustments)"))])]),n("td",[n("span",{staticClass:"right"},[t._v(t._s(t.draft.order.itemTotal))])]),n("td"),n("td")]),t._l(t.draft.order.orderAdjustments,function(e){return[n("tr",[n("td",[n("strong",[t._v(t._s(e.type)+" "+t._s("Adjustment"))]),n("br"),t._v(t._s(t._f("title")(e.name))+"\n                            "),n("span",{staticClass:"info"},[n("strong",[t._v(t._s(e.type)+" "+t._s("Adjustment"))]),n("br"),t._v(" "+t._s(e.description))])]),n("td"),n("td"),n("td"),n("td"),n("td",[n("span",{staticClass:"right"},[t._v(t._s(e.amount))])]),n("td"),n("td")])]}),n("tr",[n("td"),n("td",[t.draft.order.isPaid&&t.draft.order.totalPrice>0?[n("div",{staticClass:"paidLogo"},[n("span",[t._v(t._s("PAID"))])])]:t._e()],2),n("td"),n("td"),n("td",[n("h2",[t._v(t._s("Total Price"))])]),n("td",[n("h2",{staticClass:"right"},[t._v(t._s(t.draft.order.totalPrice))])]),n("td"),n("td")])],2)]),n("div",{staticClass:"buttons"},[n("a",{staticClass:"btn submit",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.addLineItem()}}},[t._v("Add Line Item")]),n("a",{staticClass:"btn",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.save()}}},[t._v("Recalculate")]),t._v("\n                 \n                 \n                "),t.loading?n("div",{staticClass:"spinner"}):t._e()])]:[n("div",{staticClass:"spinner"})]],2),n("some-component")],1)},s=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",{attrs:{scope:"col"}},[t._v("Item")]),n("th",{attrs:{scope:"col"}},[t._v("Note")]),n("th",{attrs:{scope:"col"}},[t._v("Price")]),n("th",{attrs:{scope:"col"}},[t._v("Quantity")]),n("th",{attrs:{scope:"col"}}),n("th",{attrs:{scope:"col"}}),n("th",{attrs:{scope:"col"}}),n("th",{attrs:{scope:"col"}})])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("td",[n("span",{staticClass:"tableRowInfo",attrs:{"data-icon":"info",href:"#"}})])}],a=n("f499"),o=n.n(a),i=(n("cadf"),n("551c"),n("f751"),n("097d"),n("cebe")),d=n.n(i),c=n("c987"),l={name:"order-details-app",components:{SomeComponent:c["a"]},data:function(){return{loading:!1,draft:null}},computed:{orderId:function(){return window.orderId}},methods:{addLineItem:function(){console.log("add line item");var t={id:"1",price:"20.0000",saleAmount:"0.0000",salePrice:"20.0000",weight:"0.0000",length:"0.0000",height:"0.0000",width:"0.0000",qty:"1",note:"",purchasableId:"4",orderId:"13",adjustments:[],description:"A New Toga",options:{giftWrapped:"no"},optionsSignature:"3e4afd673bf6ab55b4118b13d600b211",onSale:!1,sku:"ANT-001",total:20};this.draft.order.lineItems.push(t),this.save()},removeLineItem:function(t){this.$delete(this.draft.order.lineItems,t),this.save()},getOrder:function(t){var e=this;this.loading=!0,d.a.get(Craft.getActionUrl("commerce/order/get",{orderId:t})).then(function(t){e.loading=!1,e.draft=JSON.parse(o()(t.data))}).catch(function(){e.loading=!1,console.log("error")})},save:function(){var t=this;this.loading=!0,d.a.post(Craft.getActionUrl("commerce/order/save"),this.draft).then(function(e){t.loading=!1,console.log("success")}).catch(function(){t.loading=!1,console.log("error")})}},mounted:function(){this.getOrder(this.orderId)}},u=l,f=n("2877"),p=Object(f["a"])(u,r,s,!1,null,null,null);e["a"]=p.exports},"29fe":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var r=n("8bbf"),s=n.n(r),a=n("1c7c");s.a.config.productionTip=!1,new s.a({render:function(t){return t(a["a"])}}).$mount("#order-details-app")},"8bbf":function(t,e){t.exports=Vue},c987:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._v("\n    some component\n")])},s=[],a=n("2877"),o={},i=Object(a["a"])(o,r,s,!1,null,null,null);e["a"]=i.exports},cebe:function(t,e){t.exports=axios}});
//# sourceMappingURL=order-details-app.js.map